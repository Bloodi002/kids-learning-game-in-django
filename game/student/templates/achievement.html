{% extends 'layout.html' %}

{% block title %}
  Your Achievements
{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1>Achievements for : {{ user.username }}</h1>

    <h2>Your Average Score: {{ average_score }} / 10</h2>

    <div class="badge-container mt-4">
        <h3>Your Badge:</h3>
        {% if badge == 'GOLD' %}
            <class="badge-animation" alt="Gold Badge" />
        {% elif badge == 'SILVER' %}
            <class="badge-animation" alt="Silver Badge" />
        {% elif badge == 'BRONZE' %}
            <class="badge-animation" alt="Bronze Badge" />
        {% else %}
            <p class="try-hard">You need to try hard!</p>
        {% endif %}
    </div>

    <table class="table table-striped mt-4">
        <thead>
            <tr>
                <th>Date</th>
                <th>Correct Answers</th>
            </tr>
        </thead>
        <tbody>
            {% for achievement in achievements %}
                <tr>
                    <td>{{ achievement.created_at|date:"Y-m-d H:i" }}</td>
                    <td>{{ achievement.correct_answers }}</td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="2">No achievements recorded.</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}

<!-- Add animations with CSS -->
<style>
.badge-container {
    text-align: center;
}

.badge-animation {
    width: 150px;
    animation: bounce 1s infinite;
}

.try-hard {
    color: red;
    font-weight: bold;
}

@keyframes bounce {
    0%, 20%, 50%, 80%, 100% {
        transform: translateY(0);
    }
    40% {
        transform: translateY(-30px);
    }
    60% {
        transform: translateY(-15px);
    }
}
</style>
